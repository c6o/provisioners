name: Cockpit CMS
appId: cockpitcms                #App internal name (all lower, no spaces); minimum 5 characters
package: '@provisioner/appengine'
icon: icon.svg
description:
    Cockpit is awesome if you need a flexible content structure but don't want to be limited in how to use the content. Cockpit is a perfect match if you want to support multiple devices or need a content management UI for static site builders. Build unique applications and let Cockpit feed them with content.

summary:
  Simple Content Platform to manage any structured content.

  A self-hosted headless and api-driven CMS

  Build. Connect. Deliver.

category: cms
keywords:
  - Content Management System


repo: https://github.com/agentejo/cockpit
license: https://github.com/agentejo/cockpit/blob/next/LICENSE
support: https://getcockpit.com/support

provisioner:
  repo: https://github.com/c6o/provisioners
  support: https://github.com/c6o/provisioners/issues

editions:
  - name: preview
    status: public
    default: true
    spec:
      routes:
        - type: http
          targetService: cockpitcms
      provisioner:
        package: '@provisioner/appengine'
        tag-prefix: appengine
        image: aheinze/cockpit
        port: 80
        automated: true

      marina:
        launch:
          type: inline
          popUp: true
          path: /install/

  - name: preview-mongo
    status: public
    default: true
    spec:
      routes:
        - type: http
          targetService: cockpitcms
      provisioner:
        package: '@provisioner/appengine'
        tag-prefix: appengine
        image: aheinze/cockpit
        port: 80
        automated: true
        config:
          - name: COCKPIT_SALT
            value: $RANDOM:32
          - name: COCKPIT_SESSION_NAME
            value: $RANDOM:32

          - name: COCKPIT_DATABASE_NAME
            label: Database name to use
            hint: The database name to use
            required: true
            autoselect: true
            fieldType: text
            value: cockpitcms

        secret:

          - name: COCKPIT_DATABASE_SERVER
            label: MongoDB Connection
            hint: The connection string to connect to MongoDB Service
            required: true
            autoselect: true
            fieldType: text
            value: mongodb://root:88888888@mongodb.database:27017/?authSource=admin

      marina:
        launch:
          type: inline
          popUp: true
          path: /install/

