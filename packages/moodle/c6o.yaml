name: Moodle
appId: moodle
package: '@provisioner/appengine'
icon: icon.svg
summary:
  Moodle is the world's most popular learning management system. Start creating your online learning site in minutes!
description:
  Moodle is a learning platform designed to provide educators, administrators and learners with a single robust, secure and integrated system to create personalised learning environments. You can download the software onto your own web server or ask one of our knowledgeable Moodle Partners to assist you.

  Moodle is built by the Moodle project which is led and coordinated by Moodle HQ, which is financially supported by a network of over 80 Moodle Partner service companies worldwide.


  Setup

  ----

  Moodle requires access to a MariaDB database which has to be created prior to the installation.


  Here is a sample script to get you started


    ~~~~

    CREATE DATABASE moodle;

    CREATE USER 'moodle'@'%' IDENTIFIED BY '88888888';

    GRANT ALL PRIVILEGES ON moodle.* TO 'moodle'@'%';

    FLUSH PRIVILEGES;

    SELECT User, Plugin FROM mysql.user;

    ~~~~

    Be sure to change the value '88888888' with a secure password.

category: e-learning
keywords:
  - Learning Management System
  - LMS
  - Education
  - Educators
  - Knowledge

repo: https://github.com/moodle/moodle
license: https://github.com/moodle/moodle/blob/master/COPYING.txt
support: https://docs.moodle.org/

provisioner:
  repo: https://github.com/c6o/provisioners
  support: https://github.com/c6o/provisioners/issues

editions:
  - name: preview
    status: public
    spec:
      routes:
        - type: http
          targetService: moodle
      provisioner:
        package: '@provisioner/appengine'
        tag-prefix: appengine
        image: bitnami/moodle
        ports: 8080
        flow:
          prompts:
            - type: input
              name: MOODLE_DATABASE_HOST
              message: Host for the database server (Service)
              default: mariadb.database
              required: true
              c6o:
                label: Database Host

            - type: input
              name: MOODLE_DATABASE_USER
              message: Username for the database
              default: moodle
              required: true
              c6o:
                label: Database Username

            - type: password
              name: MOODLE_DATABASE_PASSWORD
              message: Database Password
              default: 88888888
              required: true
              c6o:
                label: Database Password

            - type: input
              name: MOODLE_USERNAME
              message: Username for the admin user
              default: admin
              required: true
              c6o:
                label: Administrator username

            - type: password
              name: MOODLE_PASSWORD
              message: Password for the admin user
              default: 88888888
              required: true
              c6o:
                label: Administrator password

            - type: input
              name: MOODLE_EMAIL
              message:  Email address for the admin user
              default: admin@mysite.com
              required: true
              c6o:
                label: Administrator email address


            - type: input
              name: MOODLE_DATABASE_TYPE
              message:  Database Type
              default: mariadb
              required: true
              c6o:
                label: Database Type

            - type: input
              name: MOODLE_DATABASE_NAME
              message:  Database Name
              default: moodle
              required: true
              c6o:
                label: Database Name
        configs:
            - ALLOW_EMPTY_PASSWORD: no

        volumes:
            - size: 5Gi
              mountPath: /bitnami
              name: moodle-data
      marina:
        launch:
          type: inline
          popUp: true
