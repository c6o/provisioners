name: Recorder
appId: recorder
package: '@provisioner/appengine'
icon: icon.svg
summary:
  The OwnTracks Recorder is a lightweight program for storing and accessing location data published via MQTT (or HTTP) by the OwnTracks apps.

description:
  The OwnTracks Recorder is a lightweight program for storing and accessing location data published via MQTT (or HTTP) by the OwnTracks apps. It is a compiled program which is easy to install and operate even on low-end hardware, and it doesn't require an external database.

category: location
keywords:
  - OwnTracks
  - Location Tracking
  - MQTT


repo: https://github.com/owntracks/recorder
support: https://github.com/owntracks/recorder/issues
license: https://github.com/owntracks/recorder/blob/master/LICENSE

provisioner:
  repo: https://github.com/c6o/provisioners
  support: https://github.com/c6o/provisioners/issues

editions:
  - name: preview
    status: public
    spec:
      routes:
        - type: http
          targetService: recorder
      provisioner:
        package: '@provisioner/appengine'
        tag-prefix: appengine
        image: owntracks/recorder
        ports: 8083
        flow:
          prompts:
            - type: input
              name: OTR_HOST
              message: Specify the hostname for your MQTT Server (Service)
              default: mqtt.services
              required: true
              c6o:
                label: MQTT Host
            - type: input
              name: OTR_USER
              message: Specify the username for your MQTT instance
              default: admin
              required: false
              c6o:
                label: MQTT User
            - type: number
              name: OTR_PORT
              message: Specify the port for your MQTT Server (Service)
              default: 1883
              required: false
              c6o:
                label: MQTT Port
            - type: input
              name: OTR_GEOKEY
              message: API key for reverse-geo lookups
              default: 1883
              required: false
              c6o:
                label: Reverse Geo API Key
            - type: input
              name: OTR_BROWSERAPIKEY
              message: Google Maps Api Key
              required: false
              c6o:
                label: Google maps browser API key

            - type: password
              name: OTR_PASS
              message: Specify the MQTT Password
              required: false
              c6o:
                label: MQTT Password

      marina:
        launch:
          type: inline
          popUp: true
