name: Rocket.Chat
appId: rocketchat
package: '@provisioner/appengine'

editions:
  - name: preview
    status: private
    spec:
      routes:
        - type: http
          targetService: rocketchat
      provisioner:
        package: '@provisioner/appengine'
        tag-prefix: appengine
        image: rocket.chat
        ports: 3000
        secret:
          - name: MONGO_OPLOG_URL
            value: mongodb://root:admin@mongodb/local
          - name: MONGO_URL
            value: mongodb://root:admin@mongodb/rocketchat
        volumes:
          - name: rocketchat-uploads
            size: 50Gi
            mountPath: /app/uploads
      marina:
        launch:
          type: inline
          popUp: true
