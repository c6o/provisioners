name: WikiJs
appId:  wikijs
package: '@provisioner/appengine'
icon: icon.svg
summary:
  Wiki.js is a wiki engine running on Node.js and written in JavaScript.

description:

  Wiki.js is a wiki engine running on Node.js and written in JavaScript. It is free software released under the Affero GNU General Public License. It is available as a self-hosted solution or using "single-click" install on the DigitalOcean and AWS marketplace.


  Setup

  ----

  Wikijs requires access to a MySql or MariaDB database along with a user with 'mysql_native_password' authentication.  This has been created prior to the installation.


  Here is a sample script to get you started with MySql


    ~~~~

    CREATE DATABASE wikijs;

    CREATE USER 'wikijs'@'%' IDENTIFIED BY '88888888';

    ALTER USER 'wikijs'@'%' IDENTIFIED WITH mysql_native_password BY '88888888';

    GRANT ALL PRIVILEGES ON wikijs.* TO 'wikijs'@'%';

    FLUSH PRIVILEGES;

    SELECT User, Plugin FROM mysql.user;

    ~~~~

    Be sure to change the value '88888888' with a secure password.



category: cms
keywords:
  - wiki

repo: https://github.com/Requarks/wiki
license: https://github.com/Requarks/wiki/blob/dev/LICENSE
support: https://github.com/Requarks/wiki/issues

provisioner:
  repo: https://github.com/c6o/provisioners
  support: https://github.com/c6o/provisioners/issues

editions:
  - name: preview
    status: public
    spec:
      routes:
        - type: http
          targetService: wikijs
      provisioner:
        package: '@provisioner/appengine'
        image: requarks/wiki
        tag-prefix: appengine
        ports: 3000

        flow:
          prompts:
            - type: input
              name: DB_HOST
              message: Specify the host name of your database server service (mysql)
              default: mysql.database
              c6o:
                label: Database Server
                required: true

            - type: list
              name: DB_TYPE
              message: The type of the database to use
              default: 2
              c6o:
                label: Database type
                required: true
                items:
                  - value: mysql
                  - value: postgres
                  - value: mariadb
                  - value: mssql
                  - value: sqlite

            - type: input
              name: DB_PORT
              message: The port of the database
              default: 3306
              c6o:
                label: Database Port
                required: true

            - type: input
              name: DB_NAME
              message: The name of the database to use
              default: wikijs
              c6o:
                label: Database name
                required: true

            - type: input
              name: DB_USER
              message: The username for the database user
              default: wikijs
              c6o:
                label: Database Username
                required: true

            - type: password
              name: DB_PASS
              message: The password for the database user
              c6o:
                label: Database password
                required: true
                target: secrets

      marina:
        launch:
          type: inline
          popUp: true

